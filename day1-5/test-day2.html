<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Tournament</title>
</head>
<body>

    <script>
        // Fonction pour calculer le score total
        function calculateTotalScore(strategy) {
            // Initialiser le score total à 0
            let totalScore = 0;

            // Parcourir chaque ligne de la stratégie
            for (let i = 0; i < strategy.length; i++) {
                // Récupérer le choix de l'adversaire et la réponse recommandée
                let opponentChoice = strategy[i][0];
                let yourChoice = strategy[i][1];

                // Déterminer le score pour le choix du joueur
                let yourScore = 0;
                if (yourChoice === "Y") {
                    yourScore = 2;  // Paper
                } else if (yourChoice === "X") {
                    yourScore = 1;  // Rock
                } else if (yourChoice === "Z") {
                    yourScore = 3;  // Scissors
                }

                // Calculer le score pour la ronde actuelle
                let roundScore = 0;

                // Déterminer le résultat de la ronde
                if (opponentChoice === "A" && yourChoice === "Y") {
                    roundScore = 8;
                } else if (opponentChoice === "B" && yourChoice === "X") {
                    roundScore = 1;
                } else if (opponentChoice === "C" && yourChoice === "Z") {
                    roundScore = 6;
                } else {
                    // En cas d'égalité, ajouter 3 au score
                    roundScore = 3;
                }

                // Ajouter le score du choix du joueur à la ronde
                roundScore += yourScore;

                // Ajouter le score de la ronde au score total
                totalScore += roundScore;
            }

            return totalScore;
        }

        // Fonction pour lire le fichier et appeler la fonction de calcul
        function calculateScoreFromFile() {
            // Charger le contenu du fichier d'entrée
            const inputFile = "input-day2.txt";
            const fileInput = new XMLHttpRequest();
            fileInput.open("GET", inputFile, false);
            fileInput.send();

            // Vérifier si le fichier a été chargé avec succès
            if (fileInput.status === 200) {
                // Diviser le contenu du fichier en lignes
                const lines = fileInput.responseText.split('\n');

                // Initialiser la stratégie à partir des lignes du fichier
                const strategy = lines.map(line => line.split(' '));

                // Calculer le score total en utilisant la stratégie
                const totalScore = calculateTotalScore(strategy);

                // Afficher le résultat dans la console et sur la page
                console.log("Total Score:", totalScore);
                document.body.innerHTML = "<h1>Total Score: " + totalScore + "</h1>";
            } else {
                console.error("Failed to load file");
            }
        }

        // Appeler la fonction pour calculer le score à partir du fichier
        calculateScoreFromFile();
    </script>

</body>
</html>
